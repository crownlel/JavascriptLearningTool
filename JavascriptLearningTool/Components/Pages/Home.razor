@page "/"
@rendermode InteractiveServer
@inject UserAuthenticationStateProvider UserAuthenticationStateProvider
@inject NavigationManager Navigation

<PageTitle>Home</PageTitle>

<AuthorizeView>
    <NotAuthorized>
        <h1>Hello, world</h1>
    </NotAuthorized>
    <Authorized>
        <h1>Hello, @context.User?.Identity?.Name</h1>
    </Authorized>
</AuthorizeView>

Welcome to your new app.

<AuthorizeView>
    <NotAuthorized>
        <p>You are not logged in.</p
    </NotAuthorized>
    <Authorized>
        <div style="position: fixed; bottom: 20px; right: 20px;">
            <button class="btn btn-primary" @onclick="Logout" href>Logout</button>
        </div>
    </Authorized>
</AuthorizeView>
@code {

    private void Logout()
    {
        UserAuthenticationStateProvider.NotifyChanged(string.Empty);
        Navigation.NavigateTo("login");
    }
}

